/*
 * Copyright 2013 Baidu Inc. All rights reserved.
 *
 * author:  mycoin (nqliujiangtao@gmail.com)
 * date:    2013/09/28
 * repos:   https://github.com/mycoin/validation
 */
!function(a,b){"function"==typeof define&&define(b),("undefined"!=typeof exports?exports:a).validator=b()}(this,function(){"use strict";var a={version:"stable-1.0.1"},b=function(a){return a.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")},c=function(a,b){return(""===a||void 0===a||null===a)&&(a=b),a},d=function(a){var b=a;return(b=Date.parse(a))?new Date(b):(b=a,/^[0-9\-\/\ :]*$/.test(b)&&(b=b.replace(/\-/g,"/"),b=new Date(b))?b:0/0)},e={required:function(a,b){return b=c(b,null),null==b?a.message:!0},requiredstring:function(a,d){return d=c(d,""),1==a.trim&&(d=b(d)),0==d.length?a.message:!0},"int":function(a,b){var d,e;return b=c(b,null),null==b?!0:/^\-?[0-9]+$/.test(b)?(b=parseInt(b),d=parseInt(a.min),e=parseInt(a.max),!isNaN(d)&&0>b-d?a.message:!isNaN(e)&&b-e>0?a.message:!0):a.message},"long":function(){return e["int"]([].slice.call(arguments))},"double":function(a,b){var d,e,f,g;return b=c(b,null),null==b?!0:/^\-?[0-9]*\.?[0-9]+$/.test(b)?(b=parseFloat(b),d=parseFloat(a.maxInclusive),e=parseFloat(a.minInclusive),f=parseFloat(a.maxExclusive),g=parseFloat(a.minExclusive),!isNaN(d)&&b-d>0||!isNaN(e)&&0>b-e||!isNaN(f)&&b-f>=0||!isNaN(g)&&0>=b-g?a.message:!0):a.message},date:function(a,b){var e,f;return b=c(b,null),null==b?!0:(b=d(b),b&&"Invalid Date"!=b?(e=d(a.min),f=d(a.max),!isNaN(e)&&b.getTime()-e.getTime()<0?a.message:!isNaN(f)&&b.getTime()-f.getTime()>0?a.message:!0):a.message)},email:function(a,b){return a.expression="^[_A-Za-z0-9-]+(.[_A-Za-z0-9-]+)*@([A-Za-z0-9-])+(.[A-Za-z0-9-]+)*((.[A-Za-z0-9]{2,})|(.[A-Za-z0-9]{2,}.[A-Za-z0-9]{2,}))$",a.caseSensitive=!1,e.regex(a,b)},regex:function(a,d){if(d=c(d,null),null==d||0==b(d).length)return!0;void 0==a.caseSensitive&&(a.caseSensitive=!0),void 0==a.trim&&(a.trim=!0),1==a.trim&&(d=b(d));var e=a.caseSensitive?"i":void 0;try{if(!new RegExp(a.expression,e).test(d))return a.message}catch(f){}return!0},url:function(a,b){return a.expression="^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$",a.caseSensitive=!1,e.regex(a,b)},stringlength:function(a,d){return d=c(d,null),null==d||d.length<=0?!0:(void 0==a.minLength&&(a.minLength=-1),void 0==a.maxLength&&(a.maxLength=-1),void 0==a.trim&&(a.trim=!0),1==a.trim&&(d=b(d)),a.minLength>-1&&d.length<a.minLength?a.message:a.minLength>-1&&d.length>a.minLength?a.message:!0)}};return a.validate=function(a,b){var d,f,g,h,i,c=[];for(d in b||{})for(f in b[d]||{}){if(g=b[d][f]||{},h=e[f],"function"!=typeof h)throw new Error("Validation function "+f+" not found.");i=h(g,a[d],a),i!==!0&&c.push({field:d,message:i,value:a[d]})}return c.length?{result:!1,field:c[0].field,message:c[0].message,stacks:c}:{result:!0,message:"OK"}},a});







